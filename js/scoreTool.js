const ABILITIES=["Strength","Dexterity","Constitution","Intelligence","Wisdom","Charisma"],MAX_POINTS=27,MAX_TOTAL_ASIS=3,MAX_ASI=2;for(const a of ABILITIES)updateScores(document.getElementById(a+"_slider"));function updateScores(e){var t=e.id.split("_")[0],e=e.value,n=getModifier(e);document.getElementById(t+"_value").textContent=e,document.getElementById(t+"_modifier").textContent=formatModifier(n),updateDisplayAndMaxs()}function getModifier(e){return e=Number(e),Math.floor((e-10)/2)}function formatModifier(e){return(e=Number(e))<0?`(${e})`:`(+${e})`}function updateDisplayAndMaxs(){var n=getSliderValues(),o=[0,0,0,0,0,0];for(let e=0;e<ABILITIES.length;e++)17==n[e]?o[e]=2:16==n[e]&&(o[e]=1);var l=n.map(getPointCostUpperBound);let e=sum(o),r=sum(l);for(;r>MAX_POINTS&&e<MAX_TOTAL_ASIS;){let t=!1;for(let e=0;e<ABILITIES.length;e++)if(13<n[e]&&0==o[e]){o[e]+=1,l[e]-=2,t=!0;break}if(!t)for(let e=0;e<ABILITIES.length;e++)if(14<n[e]&&1==o[e]){o[e]+=1,l[e]-=2,t=!0;break}if(!t)for(let e=0;e<ABILITIES.length;e++)if(0<l[e]&&0==o[e]){o[e]+=1,--l[e],t=!0;break}if(!t)for(let e=0;e<ABILITIES.length;e++)if(0<l[e]&&1==o[e]){o[e]+=1,--l[e],t=!0;break}e=sum(o),r=sum(l)}var i=MAX_POINTS-r,I=MAX_TOTAL_ASIS-e;document.getElementById("score_tool_points").textContent=i,document.getElementById("score_tool_asis").textContent=I;for(let n=0;n<ABILITIES.length;n++){var u=ABILITIES[n],a=(document.getElementById(u+"_points").textContent=l[n],document.getElementById(u+"_asi").textContent=o[n],getPotentialPoints(l,o,n));let t=-1;for(let e=0;2*e<=a;e++)t=Math.max(t,getMaxScorePossible(i+l[n]+2*e,I+o[n]-e));var d=document.getElementById(u+"_slider"),m=(d.max=t,d.parentElement.clientWidth),s=(m-20)*(t-8)/9+20;d.style.width=100*s/m+"%",d.value==d.max?(document.getElementById(u+"_label").style.fontWeight="bolder",document.getElementById(u+"_value").style.fontWeight="bolder"):(document.getElementById(u+"_label").style.fontWeight="normal",document.getElementById(u+"_value").style.fontWeight="normal")}}function sum(e){return e.reduce((e,t)=>e+t,0)}function getSliderValues(){return ABILITIES.map(e=>Number(document.getElementById(e+"_slider").value))}function getPointCostUpperBound(e){return 15<=e?9:14==e?7:e-8}function getPotentialPoints(t,n,o){var l=sum(n);let r=0;for(let e=0;e<ABILITIES.length&&r!=2*(MAX_TOTAL_ASIS-l);e++)e!=o&&(7==t[e]&&0==n[e]?r+=2:9==t[e]&&n[e]<=1&&(r+=2*(2-n[e])));return r}function getMaxScorePossible(e,t){return(9<=e?15:7<=e?14:8+Math.min(e,5))+Math.min(t,2)}